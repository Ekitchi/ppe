<!DOCTYPE html>
<html>

	<head lang="en">
		<meta charset="UTF-8">
		<title>Inscription</title>
	</head>

	<body class="container" ng-controller="InscriptionController as inscription">

		<h1 class="page-header">Inscription</h1>
		<br/>
		<br/>

		<form class="form-horizontal" name="registerForm" method="post" novalidate>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.name.$dirty && registerForm.name.$invalid, 'has-success': registerForm.name.$valid}">
				<label class="col-md-1 control-label" for="name">Nom</label>
				<div class="col-md-2">
					<input id="name" type="text" class="form-control" name="name" ng-model="inscriptionName" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.name.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.name.$dirty && registerForm.name.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.name.$dirty && registerForm.name.$error.required">*Ce champ est obligatoire</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.first_name.$dirty && registerForm.first_name.$invalid, 'has-success': registerForm.first_name.$valid}">
				<label class="col-md-1 control-label" for="first_name">Prénom</label>
				<div class="col-md-2">
					<input id="first_name" type="text" class="form-control" name="first_name" ng-model="inscriptionFirst_name" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.first_name.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.first_name.$dirty && registerForm.first_name.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.first_name.$dirty && registerForm.first_name.$error.required">*Ce champ est obligatoire</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.mail.$dirty && registerForm.mail.$invalid, 'has-success': registerForm.mail.$valid}">
				<label class="col-md-1 control-label" for="mail">Email</label>
				<div class="col-md-2">
					<input id="mail" type="email" class="form-control" name="mail" ng-model="inscriptionMail" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.mail.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.mail.$dirty && registerForm.mail.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.mail.$dirty && registerForm.mail.$error.required">*Ce champ est obligatoire</span>
					<span class="text-danger" ng-show="registerForm.mail.$dirty && registerForm.mail.$error.email">*L'email n'est pas valide</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.password.$dirty && registerForm.password.$invalid, 'has-success': registerForm.password.$valid}">
				<label class="col-md-1 control-label" for="password">Mot de passe</label>
				<div class="col-md-2">
					<input id="password" type="password" class="form-control" name="password" ng-model="inscriptionPassword" ng-minlength="4" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.password.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.password.$dirty && registerForm.password.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.password.$dirty && registerForm.password.$error.required">*Ce champ est obligatoire</span>
					<span class="text-danger" ng-show="registerForm.password.$dirty && registerForm.password.$error.minlength">*Le mot de passe est trop court</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.passwordConfirm.$dirty && registerForm.passwordConfirm.$invalid, 'has-success': registerForm.passwordConfirm.$valid}">
				<label class="col-md-1 control-label" for="passwordConfirm">Confirmer le mot de passe</label>
				<div class="col-md-2">
					<input id="passwordConfirm" type="password" class="form-control" name="passwordConfirm" password-match="registerForm.password" ng-model="inscriptionPasswordConfirm" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.passwordConfirm.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.passwordConfirm.$dirty && registerForm.passwordConfirm.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.passwordConfirm.$dirty && registerForm.passwordConfirm.$error.required">*Ce champ est obligatoire
						<br/>
					</span>
					<span class="text-danger" ng-show="registerForm.passwordConfirm.$dirty && registerForm.passwordConfirm.$error.passwordMatch">*Les mots de passes ne correspondent pas</span>
					<span class="text-success" ng-show="registerForm.passwordConfirm.$valid">Les mots de passes correspondent</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.dateofbirth.$dirty && registerForm.dateofbirth.$invalid, 'has-success': registerForm.dateofbirth.$valid}">
				<label class="col-md-1 control-label" for="dateofbirth">Date de naissance</label>
				<div class="col-md-2">
					<input id="dateofbirth" type="date" class="form-control" name="dateofbirth" ng-model="inscriptionDateofbirth" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.dateofbirth.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.dateofbirth.$dirty && registerForm.dateofbirth.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.dateofbirth.$dirty && registerForm.dateofbirth.$error.required">*Ce champ est obligatoire</span>
					<span class="text-danger" ng-show="registerForm.dateofbirth.$dirty && registerForm.dateofbirth.$error.date">*Le format de la date n'est pas valide</span>
				</div>
			</div>

			<div class="form-group has-feedback" ng-class="{'has-error': registerForm.phone.$dirty && registerForm.phone.$invalid, 'has-success': registerForm.phone.$valid}">
				<label class="col-md-1 control-label" for="phone">Téléphone</label>
				<div class="col-md-2">
					<input id="phone" type="text" class="form-control" name="phone" ng-model="inscriptionPhone" required/>
					<span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registerForm.phone.$valid"></span>
					<span class="glyphicon glyphicon-remove form-control-feedback" ng-show="registerForm.phone.$dirty && registerForm.phone.$invalid"></span>
					<span class="text-danger" ng-show="registerForm.phone.$dirty && registerForm.phone.$error.required">*Ce champ est obligatoire</span>
				</div>
			</div>

			<div class="form-group">
				<div class="col-md-offset-2 col-md-9">
					<button type="submit" class="btn btn-default" data-toggle="modal" data-target="#registerModal" ng-show="registerForm.$invalid">
						S'enregistrer
					</button>
					
					<button type="submit" class="btn btn-default" ng-click="registerForm.$valid && ConfirmRegister()" ng-show="registerForm.$valid">
						S'enregistrer
					</button>
				</div>
			</div>
		</form>
		
		<!-- MODAL -->
		<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">
							<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
						</button>
						<h3 class="modal-title" id="myModalLabel">Erreur</h3>
					</div>
					<div class="modal-body">
						<span class="text-danger" ng-show="registerForm.$error.required">Certains champs obligatoires ne sont pas remplis</span><br/>
						<span class="text-danger" ng-show="registerForm.$error.email">L'adresse email n'est pas valide</span><br/>
						<span class="text-danger" ng-show="registerForm.dateofbirth.$error.date">Le format de la date n'est pas valide</span><br/>
						<span class="text-danger" ng-show="registerForm.$error.passwordMatch">Les mots de passes doivent correspondre</span>
					</div>
					<div class="modal-footer">
						<button class="btn btn-info" data-dismiss="modal">OK</button>
					</div>
				</div>
			</div>
		</div>
		
	</body>

</html>